(function(){var g,h,a={},f=0,i=0;h={isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},each:function(a,d,b){var d=void 0!==b?d.bind(b):d,e;if(this.isArray(a))if(void 0!==Array.forEach)a.forEach(d);else for(e=0;e<a.length;e+=1)d(a[e],e,a);else for(e in a)a.hasOwnProperty(e)&&d(a[e],e,a)}};g={wind:function(c,d,b,e){if(!(void 0===b||""===b)&&void 0===a[b])void 0!==e&&(c=c.bind(e)),a[b]={},a[b].wait=d,a[b].msRun=0,a[b].isInterval=!1,a[b].timeout=setTimeout(function(){c();
a[b].isInterval||g.unwind(b)},d),a[b].countInterval=setInterval(function(){a[b].secondsRun>=a[b].wait&&clearInterval(a[b].countInterval);a[b].msRun+=1E3},1E3),a[b].secondsLeft=function(){var c=a[b].wait-a[b].msRun;0>c&&(c=0);return c/1E3},f+=1},windInterval:function(c,d,b,e){if(!(void 0===b||""===b)&&void 0===a[b])void 0!==e&&(c=c.bind(e)),a[b]={},a[b].wait=d,a[b].msRun=0,a[b].isInterval=!0,a[b].timeout=setInterval(function(){a[b].msRun=0;c();a[b].isInterval||g.unwind(b)},d),a[b].countInterval=setInterval(function(){a[b].msRun+=
1E3},1E3),a[b].secondsLeft=function(){var c=a[b].wait-a[b].msRun;0>c&&(c=0);return c/1E3},f+=1},secondsLeft:function(c){var d=0;void 0!==a[c]&&(d=a[c].secondsLeft());return d},unwind:function(c){void 0!==a[c]&&(a[c].isInterval?clearInterval(a[c].timeout):clearTimeout(a[c].timeout),clearInterval(a[c].countInterval),f-=1,i+=1,delete a[c])},numTicking:function(){return f},numComplete:function(){return i},tockStatus:function(){var c="No clocks wound.",d;0<f&&(c="",h.each(a,function(b,e){d=a[e].isInterval?
"interval":"timeout";c+=e+" ("+d+"): "+b.secondsLeft()+" seconds left\n"}),c=c.slice(0,c.length-1));return c},unwindAll:function(){h.each(a,function(a,d){this.unwind(d)})},destroy:function(){this.unwindAll();delete window.Tock},version:function(){return"0.1"}};window.Tock=g})();
